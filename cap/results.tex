\chapter{Results: statistical data and webGIS interface}

    \vspace{0.06\textheight}
    \begin{chaptersum}
        Sommario in italiano
    \end{chaptersum}

    \section{Statistical results}
        \subsection{Ditches and compounds classification}
            The method described in \fref{sec:distinguish} has enabled the operator to write once all the attributes in every ditch and compound, distinguishing them. The procedure requires around \SI{1}{\minute} for each settlements, compared to nearly \SI{1}{\hour} in a non-automatized approach (depending on the number of geometries in the settlement). The whole set of 11 settlements containing 199 geometries has been analyzed in around 10 minutes. The plots in \fref{fig:graph-num-compound} and \fref{fig:graph-num-ditch} compare the number of ditches and compounds distinguished as such from the human brain-eye system as reported in \cite{laterza} and the calculated values, showing a perfect matching between the two datasets. The settlements are described using their site code (see \fref{tab:layers}).

            \begin{figure}[H]
                \centering
                \begin{tikzpicture}
                    \input{tab/graph-num-compound}
                \end{tikzpicture}
                \caption[The number of compounds in \cite{laterza} compared to the results of the proposed method.]{The number of compounds automatically calculated for all the analyzed settlements, compared with the results reported in \cite{laterza}.}
                \label{fig:graph-num-compound}
            \end{figure}

            \begin{figure}[H]
                \centering
                \begin{tikzpicture}
                    \input{tab/graph-num-ditch}
                \end{tikzpicture}
                \caption[The number of ditches in \cite{laterza} compared to the results of the proposed method.]{The number of compounds automatically calculated for all the analyzed settlements, compared with the results reported in \cite{laterza}.}
                \label{fig:graph-num-ditch}
            \end{figure}

            Having all the statistics registered in a database, is very easy to extract further data; the \fref{fig:graph-perim-class}, for example, shows the frequency of perimeter's classes for all the compounds; it si evident that most of the analyzed compounds are contained in the first class of perimeters, ranging from \SI{96.6}{\meter} to \SI{103}{\meter}.

            \begin{figure}[H]
                \centering
                \begin{tikzpicture}
                    \input{tab/graph-perim-class}
                \end{tikzpicture}
                \caption[test]{test}
                \label{fig:graph-perim-class}
            \end{figure}

        \subsection{Derived areas}
            % misc stats:
            % min, max, avg area

            The method described in \fref{sec:comp-area} has produced the results shown in the rightmost column of \fref{fig:graph-area} for each analyzed settlement. The results obtained with the automated method are accurate enough to be closely compared with ones drawn by hand using GIS tools from the operator, as published in \cite{laterza}.
            As will be reported in the next section, the \emph{Salerno 13} settlement shows a small discordance with the previously published data.

            \begin{figure}[H]
                \centering
                \begin{tikzpicture}
                    \input{tab/graph-area}
                \end{tikzpicture}
                \caption[test]{test}
                \label{fig:graph-area}
            \end{figure}

        \subsection{Derived perimeters}
            % misc stats
            % mix, max, avg perimeter
            
            As explained in \fref{sec:comp-area}, the perimeter for each compound is directly derived from the geometry of its area. The error seen in the previous section for the \emph{Salerno 13} settlement has repercussions on the perimeter. This behavior can be attributed to an error in the area derivation using the automated method: this prevented the construction of the area geometry for 8 compounds (out of 36), modifying the total area value for the settlement (and the relative derived perimeter). This is the only known error in the proposed method.

            \begin{figure}[H]
                \centering
                \begin{tikzpicture}
                    \input{tab/graph-perim}
                \end{tikzpicture}
                \caption[test]{test}
                \label{fig:graph-perim}
            \end{figure}

        \subsection{Orientation discovering}
            % misc stats
            % all open compounds = 155
            % min, max, avg access length
            % is there any relation between orientation and access length?

            Automating the discovering of the compounds' orientations has been the hardest task, since involves the derivation of multiple geometries for each compound (see \fref{sec:orientation}). The plotted results in \fref{fig:graph-orient} show a general trend in the orientations calculated in this work, very similar to the one published in \cite{laterza}. However, the significance of this calculation can be improved, since presenting each orientation as an interval of values (e.g.\ NE contains all the values ranging from $0$ to \SI{45}{\degree}) is an operation of classification itself, and has caused a loss of detail. This has been done to register values comparable to the ones defined in \cite{laterza}. At the current status, nothing can be done to prove which measurement is nearest to reality, but the assumption that both datasets share the same trends seems a result good enough to state that the automated method is fully functional.

            \begin{figure}[H]
                \centering
                \begin{tikzpicture}
                    \input{tab/graph-orient}
                \end{tikzpicture}
                \caption[test]{test}
                \label{fig:graph-orient}
            \end{figure}

        \subsection{The web interface structure\label{sec:webgis}}
            The developed web interface consists of few pages (to avoid confusion when navigating); briefly listed:

                \begin{description}
                    \item[Shapefiles list] the start page, lists all the uploaded Shapefiles and has a button redirecting to the upload page; if no Shapefile has been uploaded, the list is empty;
                    \item[upload page] enables the user to upload a new Shapefile, which is consequently saved to the software's internal database;
                    \item[Shapefile details] the most relevant page, shows a map of the selected Shapefile on the left and a list of all possible statistics on the right; every statistic has its own button, which starts the calculation when clicked; if a statistic has been calculated, the relevant row has a green background, or red on the contrary; the upper right part of the page contains buttons to manage the current Shapefile, enabling the deletion, statistics plotting or downloading.

                    \item[Jenks classification] while all other algorithms do not need any interaction with the user, the Jenks Natural Breaks classification sometimes needs the number of classes $k$ to be redefined by the operator; for this purpose a wizard has been created; it is launched pressing the button associated with the row containing the number of ditches or compounds in the Shapefile details page; the user can change the $k$ value and the colored map representing classified values is refreshed on the fly.
                \end{description}

        \subsection{Implementation specifications}
            \subsubsection{Data processing: operator-driven vs automated GIS methods}
            \subsubsection{Scientific reproducibility: the open source approach advantage}
